<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check for other food-related diseases</title>
    <link rel="stylesheet" href="else.css">
</head>
<body>
    <div id="header"><img src="../logo.png" width="111" height="72"></div>
    <form action="../refrigerator/vege.html" method="post">
        <div id = container>
            <p class="title">어떤 <span style="color: #DE5D00">기타 질환</span>이 있으신가요?</p>
            <div class="inputBox">
                <input type="text" id="elseInput" placeholder="음식관련 질환을 입력해주세요"/>
                <button type="button" class="plusBtn" id="plusBtn" onclick="">추가</button>
            </div>
            <ul id = elseList>
                <!--js작성-->
            </ul>
        </div>
        <div id="footer"><button type="submit" class="nextPageBtn">다음</button></div>
    </form>
    <script>
        const elseArray = ['수면장애', '소화불량'];
        const plusBtn = document.getElementById('plusBtn');
        const delBtn = document.getElementsByClassName('delBtn');
        const elseList = document.getElementById('elseList')
        const elseInput = document.getElementById('elseInput')

        plusBtn.addEventListener("click", addElse);
        elseList.addEventListener("click", delElse);

        renderElseList()

        function addElse(){
            let elseValue = elseInput.value.trim();

            if(elseValue){
                elseArray.unshift(elseValue);
                renderElseList();
                elseInput.value = '';
            }
        }

        function delElse(event) {
            if (event.target.classList.contains('delBtn')) {
                let elseToRemove = event.target.parentElement.textContent.slice(0, -1); // 'X' 제거
                elseArray.splice(elseArray.indexOf(elseToRemove), 1); // 해당 항목 제거
                renderElseList();
            }
        }

        function renderElseList(){
            const elseList = document.getElementById('elseList');
            elseList.innerHTML = '';

            elseArray.forEach(function (elseItem){
                let li = document.createElement('li');
                li.innerHTML = elseItem + "<button type='button' class='delBtn'>X</button>";
                elseList.appendChild(li);
            })
            elseInput.focus();
        }
    </script>
</body>
</html>